Index: app/src/main/java/comp5216/sydney/edu/au/reminder/EditTaskActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package comp5216.sydney.edu.au.reminder\n\nimport android.content.Intent\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.text.InputType\nimport android.util.Log\nimport android.view.View\nimport android.widget.EditText\nimport androidx.appcompat.app.AlertDialog\nimport java.util.*\nimport android.widget.DatePicker\n\nimport android.app.DatePickerDialog\nimport android.app.DatePickerDialog.OnDateSetListener\nimport android.widget.TimePicker\n\nimport android.app.TimePickerDialog\nimport android.app.TimePickerDialog.OnTimeSetListener\n\n\nclass EditTaskActivity : AppCompatActivity() {\n    var position = 0\n    var editTask: EditText? = null\n    var editDate: EditText? = null\n    var editTime: EditText? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_edit_task)\n\n        val editedItem = intent.getStringExtra(\"item\")\n        val editedDate = intent.getStringExtra(\"date\")\n        position = intent.getIntExtra(\"position\", -1)\n\n        editTask = findViewById<View?>(R.id.etEditItem) as EditText\n        editTask!!.setText(editedItem)\n\n        editDate = findViewById<View?>(R.id.etEditDate) as EditText\n        editDate!!.inputType = InputType.TYPE_NULL;\n        setupOnDateListener()\n\n        editTime = findViewById<View?>(R.id.etEditTime) as EditText\n        editTime!!.inputType = InputType.TYPE_NULL;\n        setupOnTimeListener()\n    }\n\n    fun setupOnDateListener() {\n        editDate?.setOnClickListener(View.OnClickListener {\n            Log.i(\"EditTaskActivity\", \"Click Date Picker\")\n            val cldr = Calendar.getInstance()\n            val day: Int = cldr.get(Calendar.DAY_OF_MONTH)\n            val month: Int = cldr.get(Calendar.MONTH)\n            val year: Int = cldr.get(Calendar.YEAR)\n            // date picker dialog\n            val picker = DatePickerDialog(this,\n                { view, year, monthOfYear, dayOfMonth -> editDate!!.setText(dayOfMonth.toString() + \"/\" + (monthOfYear + 1) + \"/\" + year) },\n                year, month, day)\n            picker.show()\n        })\n    }\n\n    fun setupOnTimeListener() {\n        editTime?.setOnClickListener(View.OnClickListener {\n            Log.i(\"EditTaskActivity\", \"Click Time Picker\")\n            val cldr = Calendar.getInstance()\n            val hour = cldr[Calendar.HOUR_OF_DAY]\n            val minutes = cldr[Calendar.MINUTE]\n            // time picker dialog\n            val picker = TimePickerDialog(this@EditTaskActivity,\n                { tp, sHour, sMinute -> editTime!!.setText(\"$sHour:$sMinute\") }, hour, minutes, true)\n            picker.show()\n        })\n    }\n\n    fun onSubmitClick(v: View?) {\n        editTask = findViewById<View?>(R.id.etEditItem) as EditText\n\n        val data = Intent()\n\n        data.putExtra(\"item\", editTask!!.text.toString())\n        data.putExtra(\"position\", position)\n\n        setResult(RESULT_OK, data)\n        finish()\n    }\n\n    fun onCancelClick(v: View?) {\n        val builder = AlertDialog.Builder(this)\n        builder.setTitle(R.string.dialog_cancel_title)\n            .setMessage(R.string.dialog_cancel_edit)\n            .setPositiveButton(R.string.confirm) { dialogInterface, i->\n                editTask!!.setText(\"\")\n            }\n            .setNegativeButton(R.string.cancel) { dialogInterface, i->\n\n            }\n        builder.create().show()\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/comp5216/sydney/edu/au/reminder/EditTaskActivity.kt b/app/src/main/java/comp5216/sydney/edu/au/reminder/EditTaskActivity.kt
--- a/app/src/main/java/comp5216/sydney/edu/au/reminder/EditTaskActivity.kt	(revision 39eb08b3fdb0962d8b9888150d86a6ae82e4fe33)
+++ b/app/src/main/java/comp5216/sydney/edu/au/reminder/EditTaskActivity.kt	(date 1629536144389)
@@ -30,7 +30,7 @@
         setContentView(R.layout.activity_edit_task)
 
         val editedItem = intent.getStringExtra("item")
-        val editedDate = intent.getStringExtra("date")
+        val editedDueTime = intent.getStringArrayListExtra("due")
         position = intent.getIntExtra("position", -1)
 
         editTask = findViewById<View?>(R.id.etEditItem) as EditText
@@ -79,6 +79,7 @@
         val data = Intent()
 
         data.putExtra("item", editTask!!.text.toString())
+        data.putStringArrayListExtra("due", editDate)
         data.putExtra("position", position)
 
         setResult(RESULT_OK, data)
